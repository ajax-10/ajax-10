<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>

		<p align="center">
			<span>学生信息表</span>
		</p>
		<form action="query" method="post">
			<table border="1" align="center" width="300">
			</table>
		</form>
		<p align="center">
			<input type="button" value="增加学生" style="width: 300px;" onclick="add()">
		</p>
		<!--<p align="center">
			<a href="JS简单实现表格增删改.html"> <span>刷新</span>
			</a>
		</p>-->
		
		
		<script type="text/javascript">
			var tb, tr, name, sex, i = 0;
			//初始化
			window.onload = function() {
				tb = document.getElementsByTagName("table")[0];
				tr = document.createElement("tr");
				/* 向表格中添加一行2 种方法：1直接获取表格第一行对象 2获取表格对象 每个节点对象 然后一个个添加子节点  */
				tb.appendChild(tr);
				tr.innerHTML = "<th>学号</th><th>姓名</th><th>年龄</th><th>修改</th><th>删除</th>";
			}
			//增加一行数据
			function add() {
				name = prompt("请输入姓名", "");
				sex = prompt("请输入性别", "");
				tb = document.getElementsByTagName("table")[0];
				tr = document.createElement("tr");
				tb.appendChild(tr);
				tr.innerHTML = '<td>' + i + '</td><td>' + name + '</td><td>' + sex +
					'</td><td><input type="button" value="修改" onclick="update(' +
					i + ')" id="' + i + '"></td>' +
					'<td><input type="button" value="删除" onclick="deletes(' + i +
					')" id="' + i + '"></td>';
				i++;
			}
			var button;
			//删除一行数据
			function deletes(num) {
				button = document.getElementById(num);
				tr = button.parentNode.parentNode;
				tr.parentNode.removeChild(tr);
			}
			var select, tdNew, tdOld;
			//修改一条数据
			function update(num) {
				select = prompt("请输入要修改的姓名还是性别1or2", "");

				if(select == 1) {

					name = prompt("请输入要修改的姓名", "");
					tdNew = document.createElement("td");
					tdNew.innerHTML = name;
					button = document.getElementById(num);
					tdOld = button.parentNode.previousSibling.previousSibling;
					tr.replaceChild(tdNew, tdOld);
				}

				if(select == 2) {
					var sex = prompt("请输入要修改的性别", "");
					tdNew = document.createElement("td");
					tdNew.innerHTML = sex;
					button = document.getElementById(num);
					tdOld = button.parentNode.previousSibling;
					tr.replaceChild(tdNew, tdOld);
				}
			}
		</script>
	</body>

</html>